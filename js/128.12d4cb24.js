"use strict";(globalThis["webpackChunkkao"]=globalThis["webpackChunkkao"]||[]).push([[128],{7128:(s,a,e)=>{e.r(a),e.d(a,{default:()=>fs});e(6727);var t=e(9835),l=e(6970);const n=s=>((0,t.dD)("data-v-5cefa119"),s=s(),(0,t.Cn)(),s),r={class:"absolute-full flex flex-center bg-negative text-white"},i={class:"q-pa-md cards",style:{"padding-top":"40%"}},c={class:"text-h5"},d={class:"text-h6"},_={class:"q-pa-md cards"},o={class:"text-h6"},u={class:"q-pa-md cards"},g={class:"text-h6"},p={class:"text-h6"},w=n((()=>(0,t._)("span",{class:"left"},"Nutri-Score",-1))),m={key:0,class:(0,l.C_)(["right","shadow"])},h={key:1,class:"right"},f={class:"text-h6"},b={class:"text-h6"},v={class:"left"},z={class:"right"},y={class:"left"},x={class:"right"},C={class:"left"},W={class:"right"},k={class:"left"},$={class:"right"},q={class:"left"},D={class:"right"},P={class:"left"},O={class:"right"},Z={class:"left"},A={class:"right"},I={class:"left"},Q={class:"right"},E={class:"left"},V={class:"right"},B={class:"text-h6"},H={class:"q-pa-md cards"},K={class:"left"},S={class:"right"},j={class:"left"},N={class:"right"},T={class:"left"},Y={class:"right"},F={class:"q-pa-md cards"},J={class:"text-h6"},R={class:"text-h6"},U=n((()=>(0,t._)("span",{class:"left"},"Eco-Score",-1))),G={key:0,class:(0,l.C_)(["right","shadow"])},L={key:1,class:"right"},M={class:"text-h6"},X={class:"q-pa-md cards"},ss={class:"text-h6"},as={class:"text-h6"};function es(s,a,e,n,es,ts){const ls=(0,t.up)("q-img"),ns=(0,t.up)("q-card-section"),rs=(0,t.up)("q-card"),is=(0,t.up)("q-btn"),cs=(0,t.up)("q-card-actions"),ds=(0,t.up)("q-dialog"),_s=(0,t.up)("q-page"),os=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(_s,{class:"flex-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(ls,{class:"product-img",src:n.barcode.image_front_small_url,style:{width:"100%",position:"fixed",top:"0",left:"0"},fit:"cover",ratio:16/9,onClick:a[0]||(a[0]=s=>n.showImage=!0)},{error:(0,t.w5)((()=>[(0,t._)("div",r,(0,l.zw)(s.$t("Cannot load image")),1)])),_:1},8,["src"]),(0,t._)("div",i,[(0,t.Wm)(rs,{bordered:"",style:{"border-radius":"30px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",c,(0,l.zw)(n.barcode.product_name),1),(0,t._)("div",d,(0,l.zw)(n.barcode.brands),1),(0,t._)("div",null,(0,l.zw)(n.barcode.generic_name),1)])),_:1})])),_:1})]),(0,t._)("div",_,[(0,t.Wm)(rs,{bordered:"",style:{"border-radius":"30px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("span",o,(0,l.zw)(s.$t("Categories")),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.categories.length,(s=>((0,t.wg)(),(0,t.iD)("div",{key:s},[(0,t._)("span",null,(0,l.zw)(n.categories[s-1]),1)])))),128))])])),_:1})])),_:1})]),(0,t._)("div",u,[(0,t.Wm)(rs,{bordered:"",style:{"border-radius":"30px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",g,(0,l.zw)(s.$t("Health")),1)])),_:1}),(0,t.Wm)(ns,{class:"my-card",style:{"border-radius":"30px",margin:"0.4em"}},{default:(0,t.w5)((()=>[(0,t._)("div",p,[w,["a","b","c","d","e"].includes(n.barcode.nutrition_grades)?((0,t.wg)(),(0,t.iD)("span",m,[(0,t._)("div",null,[(0,t._)("span",{class:(0,l.C_)(["a"==n.barcode.nutrition_grades?"ecoscore":"","A"])},"A",2),(0,t._)("span",{class:(0,l.C_)(["b"==n.barcode.nutrition_grades?"ecoscore":"","B"])},"B",2),(0,t._)("span",{class:(0,l.C_)(["c"==n.barcode.nutrition_grades?"ecoscore":"","C"])},"C",2),(0,t._)("span",{class:(0,l.C_)(["d"==n.barcode.nutrition_grades?"ecoscore":"","D"])},"D",2),(0,t._)("span",{class:(0,l.C_)(["e"==n.barcode.nutrition_grades?"ecoscore":"","E"])},"E",2)])])):((0,t.wg)(),(0,t.iD)("span",h,(0,l.zw)(n.barcode.nutrition_grades),1))])])),_:1}),(0,t.Wm)(ns,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t._)("div",f,(0,l.zw)(s.$t("Ingredients")),1),(0,t._)("div",null,(0,l.zw)(n.ingredients),1)])),_:1}),(0,t.Wm)(ns,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t._)("div",b,(0,l.zw)(s.$t("Nutriments (100g)")),1),(0,t._)("div",null,[(0,t._)("span",v,(0,l.zw)(s.$t("carbohydrates")),1),(0,t._)("span",z,(0,l.zw)(n.nutriments.carbohydrates_100g)+" "+(0,l.zw)(n.nutriments.carbohydrates_unit),1)]),(0,t._)("div",null,[(0,t._)("span",y,(0,l.zw)(s.$t("energy")),1),(0,t._)("span",x,(0,l.zw)(n.nutriments["energy-kcal_100g"])+" "+(0,l.zw)(n.nutriments["energy-kcal_unit"]),1)]),(0,t._)("div",null,[(0,t._)("span",C,(0,l.zw)(s.$t("fat")),1),(0,t._)("span",W,(0,l.zw)(n.nutriments.fat_100g)+" "+(0,l.zw)(n.nutriments.fat_unit),1)]),(0,t._)("div",null,[(0,t._)("span",k,(0,l.zw)(s.$t("fiber")),1),(0,t._)("span",$,(0,l.zw)(n.nutriments.fiber_100g)+" "+(0,l.zw)(n.nutriments.fiber_unit),1)]),(0,t._)("div",null,[(0,t._)("span",q,(0,l.zw)(s.$t("proteins")),1),(0,t._)("span",D,(0,l.zw)(n.nutriments.proteins_100g)+" "+(0,l.zw)(n.nutriments.proteins_unit),1)]),(0,t._)("div",null,[(0,t._)("span",P,(0,l.zw)(s.$t("salt")),1),(0,t._)("span",O,(0,l.zw)(n.nutriments.salt_100g)+" "+(0,l.zw)(n.nutriments.salt_unit),1)]),(0,t._)("div",null,[(0,t._)("span",Z,(0,l.zw)(s.$t("saturated fat")),1),(0,t._)("span",A,(0,l.zw)(n.nutriments["saturated-fat_100g"])+" "+(0,l.zw)(n.nutriments["saturated-fat_unit"]),1)]),(0,t._)("div",null,[(0,t._)("span",I,(0,l.zw)(s.$t("sodium")),1),(0,t._)("span",Q,(0,l.zw)(n.nutriments.sodium_100g)+" "+(0,l.zw)(n.nutriments.sodium_unit),1)]),(0,t._)("div",null,[(0,t._)("span",E,(0,l.zw)(s.$t("sugars")),1),(0,t._)("span",V,(0,l.zw)(n.nutriments.sugars_100g)+" "+(0,l.zw)(n.nutriments.sugars_unit),1)])])),_:1}),(0,t.Wm)(ns,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t._)("span",B,(0,l.zw)(s.$t("Vitamins")),1),(0,t._)("div",null,(0,l.zw)(n.vitamins),1)])),_:1})])),_:1})]),(0,t._)("div",H,[(0,t.Wm)(rs,{bordered:"",style:{"border-radius":"30px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("span",K,"ðŸŒ¿ "+(0,l.zw)(s.$t("Palm Oil?")),1),(0,t._)("span",S,(0,l.zw)(n.analysis[0]),1)]),(0,t._)("div",null,[(0,t._)("span",j,"ðŸŒ¿ "+(0,l.zw)(s.$t("Vegan?")),1),(0,t._)("span",N,(0,l.zw)(n.analysis[1]),1)]),(0,t._)("div",null,[(0,t._)("span",T,"ðŸŒ¿ "+(0,l.zw)(s.$t("Vegetarian?")),1),(0,t._)("span",Y,(0,l.zw)(n.analysis[2]),1)])])),_:1})])),_:1})]),(0,t._)("div",F,[(0,t.Wm)(rs,{bordered:"",style:{"border-radius":"30px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",J,(0,l.zw)(s.$t("Environment impact")),1)])),_:1}),(0,t.Wm)(ns,{class:"my-card",style:{"border-radius":"30px",margin:"0.4em"}},{default:(0,t.w5)((()=>[(0,t._)("div",R,[U,["a","b","c","d","e"].includes(n.barcode.ecoscore_grade)?((0,t.wg)(),(0,t.iD)("span",G,[(0,t._)("div",null,[(0,t._)("span",{class:(0,l.C_)(["a"==n.barcode.ecoscore_grade?"ecoscore":"","A"])},"A",2),(0,t._)("span",{class:(0,l.C_)(["b"==n.barcode.ecoscore_grade?"ecoscore":"","B"])},"B",2),(0,t._)("span",{class:(0,l.C_)(["c"==n.barcode.ecoscore_grade?"ecoscore":"","C"])},"C",2),(0,t._)("span",{class:(0,l.C_)(["d"==n.barcode.ecoscore_grade?"ecoscore":"","D"])},"D",2),(0,t._)("span",{class:(0,l.C_)(["e"==n.barcode.ecoscore_grade?"ecoscore":"","E"])},"E",2)])])):((0,t.wg)(),(0,t.iD)("span",L,(0,l.zw)(n.barcode.ecoscore_grade),1))])])),_:1}),(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("span",M,(0,l.zw)(s.$t("Packaging")),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.packaging.length,(s=>((0,t.wg)(),(0,t.iD)("div",{key:s},[(0,t._)("span",null,"ðŸ“¦ "+(0,l.zw)(n.packaging[s-1]),1)])))),128))])])),_:1})])),_:1})]),(0,t._)("div",X,[(0,t.Wm)(rs,{bordered:"",style:{"border-radius":"30px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("span",ss,(0,l.zw)(s.$t("Keywords")),1),(0,t._)("div",null,(0,l.zw)(n.barcode._keywords.join(", ")),1)])])),_:1})])),_:1})]),(0,t.Wm)(ds,{modelValue:n.showImage,"onUpdate:modelValue":a[2]||(a[2]=s=>n.showImage=s)},{default:(0,t.w5)((()=>[(0,t.Wm)(rs,{style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ns,null,{default:(0,t.w5)((()=>[(0,t._)("div",as,(0,l.zw)(s.$t("Full product image")),1)])),_:1}),(0,t.Wm)(ns,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(ls,{src:n.barcode.image_front_small_url,style:{width:"100%"},fit:"cover",onClick:a[1]||(a[1]=s=>n.showImage=!0)},null,8,["src"])])),_:1}),(0,t.Wm)(cs,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(is,{flat:"",label:"OK"},null,512),[[os]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}e(8964),e(2809);var ts=e(8339),ls=e(499);const ns={name:"DetailsPage",setup(){const s=(0,ts.tv)();let a=JSON.parse(s.currentRoute.value.query.barcode);console.log(a);let e=a.hasOwnProperty("categories_hierarchy")?a.categories_hierarchy.map((s=>s.split(":")[1].replaceAll("-"," "))):"",t=a.hasOwnProperty("ingredients_text")?a.ingredients_text:"",l=a.hasOwnProperty("nutriments")?a.nutriments:"",n=a.hasOwnProperty("ingredients_analysis_tags")?a.ingredients_analysis_tags.map((s=>s.split(":")[1].replaceAll("-"," "))):["???","???","???"],r=a.hasOwnProperty("vitamins_tags")?a.vitamins_tags.join(", "):"",i=a.hasOwnProperty("packaging_hierarchy")?a.packaging_hierarchy.map((s=>s.split(":")[1].replaceAll("-"," "))):"";return{barcode:a,categories:e,ingredients:t,nutriments:l,analysis:n,vitamins:r,packaging:i,showImage:(0,ls.iH)(!1)}},mounted(){}};var rs=e(1639),is=e(9885),cs=e(335),ds=e(4458),_s=e(3190),os=e(7743),us=e(1821),gs=e(4455),ps=e(2146),ws=e(9984),ms=e.n(ws);const hs=(0,rs.Z)(ns,[["render",es],["__scopeId","data-v-5cefa119"]]),fs=hs;ms()(ns,"components",{QPage:is.Z,QImg:cs.Z,QCard:ds.Z,QCardSection:_s.Z,QDialog:os.Z,QCardActions:us.Z,QBtn:gs.Z}),ms()(ns,"directives",{ClosePopup:ps.Z})}}]);